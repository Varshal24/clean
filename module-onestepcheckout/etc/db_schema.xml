<?xml version="1.0"?>
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:framework:Setup/Declaration/Schema/etc/schema.xsd">
    <table name="aw_osc_report_abandoned_checkouts_index" resource="default" engine="innodb"
           comment="Abandoned Checkouts Index Table">
        <column xsi:type="bigint" name="index_id" padding="20" unsigned="true" nullable="false" identity="true"
                comment="Index Id"/>
        <column xsi:type="date" name="period" nullable="false" comment="Period"/>
        <column xsi:type="smallint" name="store_id" padding="5" unsigned="true" nullable="false" identity="false"
                comment="Store Id"/>
        <column xsi:type="smallint" name="customer_group_id" padding="5" unsigned="true" nullable="false"
                identity="false" comment="Customer Group Id"/>
        <column xsi:type="int" name="abandoned_checkouts_count" padding="11" unsigned="false" nullable="false"
                identity="false" comment="Abandoned Checkouts Count"/>
        <column xsi:type="decimal" name="abandoned_checkouts_revenue" scale="4" precision="12" unsigned="false"
                nullable="false" comment="Abandoned Checkouts Revenue"/>
        <column xsi:type="int" name="completed_checkouts_count" padding="11" unsigned="false" nullable="false"
                identity="false" comment="Completed Checkouts Count"/>
        <column xsi:type="decimal" name="completed_checkouts_revenue" scale="4" precision="12" unsigned="false"
                nullable="false" comment="Completed Checkouts Revenue"/>
        <column xsi:type="decimal" name="conversion" scale="4" precision="12" unsigned="false" nullable="false"
                comment="Conversion"/>
        <column xsi:type="decimal" name="base_to_global_rate" scale="4" precision="12" unsigned="false" nullable="true"
                comment="Base To Global Rate"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="index_id"/>
            <column name="period"/>
            <column name="store_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="AW_OSC_REPORT_ABANDONED_CHECKOUTS_INDEX_STORE_ID_STORE_STORE_ID"
                    table="aw_osc_report_abandoned_checkouts_index" column="store_id" referenceTable="store"
                    referenceColumn="store_id" onDelete="CASCADE"/>
        <index referenceId="AW_OSC_REPORT_ABANDONED_CHECKOUTS_INDEX_PERIOD" indexType="btree">
            <column name="period"/>
        </index>
        <index referenceId="AW_OSC_REPORT_ABANDONED_CHECKOUTS_INDEX_STORE_ID" indexType="btree">
            <column name="store_id"/>
        </index>
        <index referenceId="AW_OSC_REPORT_ABANDONED_CHECKOUTS_INDEX_CUSTOMER_GROUP_ID" indexType="btree">
            <column name="customer_group_id"/>
        </index>
    </table>
    <table name="aw_osc_report_abandoned_checkouts_index_idx" resource="default" engine="innodb"
           comment="Abandoned Checkouts Index Idx Table">
        <column xsi:type="bigint" name="index_id" padding="20" unsigned="true" nullable="false" identity="true"
                comment="Index Id"/>
        <column xsi:type="date" name="period" nullable="false" comment="Period"/>
        <column xsi:type="smallint" name="store_id" padding="5" unsigned="true" nullable="false" identity="false"
                comment="Store Id"/>
        <column xsi:type="smallint" name="customer_group_id" padding="5" unsigned="true" nullable="false"
                identity="false" comment="Customer Group Id"/>
        <column xsi:type="int" name="abandoned_checkouts_count" padding="11" unsigned="false" nullable="false"
                identity="false" comment="Abandoned Checkouts Count"/>
        <column xsi:type="decimal" name="abandoned_checkouts_revenue" scale="4" precision="12" unsigned="false"
                nullable="false" comment="Abandoned Checkouts Revenue"/>
        <column xsi:type="int" name="completed_checkouts_count" padding="11" unsigned="false" nullable="false"
                identity="false" comment="Completed Checkouts Count"/>
        <column xsi:type="decimal" name="completed_checkouts_revenue" scale="4" precision="12" unsigned="false"
                nullable="false" comment="Completed Checkouts Revenue"/>
        <column xsi:type="decimal" name="conversion" scale="4" precision="12" unsigned="false" nullable="false"
                comment="Conversion"/>
        <column xsi:type="decimal" name="base_to_global_rate" scale="4" precision="12" unsigned="false" nullable="true"
                comment="Base To Global Rate"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="index_id"/>
            <column name="period"/>
            <column name="store_id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="AW_OSC_REPORT_ABANDONED_CHKTS_IDX_IDX_STORE_ID_STORE_STORE_ID"
                    table="aw_osc_report_abandoned_checkouts_index_idx" column="store_id" referenceTable="store"
                    referenceColumn="store_id" onDelete="CASCADE"/>
        <index referenceId="AW_OSC_REPORT_ABANDONED_CHECKOUTS_INDEX_IDX_PERIOD" indexType="btree">
            <column name="period"/>
        </index>
        <index referenceId="AW_OSC_REPORT_ABANDONED_CHECKOUTS_INDEX_IDX_STORE_ID" indexType="btree">
            <column name="store_id"/>
        </index>
        <index referenceId="AW_OSC_REPORT_ABANDONED_CHECKOUTS_INDEX_IDX_CUSTOMER_GROUP_ID" indexType="btree">
            <column name="customer_group_id"/>
        </index>
    </table>
    <table name="aw_osc_checkout_data_completeness" resource="default" engine="innodb"
           comment="Checkouts Data Completeness Table">
        <column xsi:type="bigint" name="id" padding="20" unsigned="true" nullable="false" identity="true" comment="Id"/>
        <column xsi:type="int" name="quote_id" padding="10" unsigned="true" nullable="false" identity="false"
                comment="Quote Id"/>
        <column xsi:type="varchar" name="field_name" nullable="false" length="255" comment="Field Name"/>
        <column xsi:type="smallint" name="is_completed" padding="5" unsigned="true" nullable="true" identity="false"
                default="0" comment="Is Completed"/>
        <column xsi:type="varchar" name="scope" nullable="true" length="255" comment="Scope"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id"/>
        </constraint>
        <constraint xsi:type="foreign" referenceId="AW_OSC_CHECKOUT_DATA_COMPLETENESS_QUOTE_ID_QUOTE_ENTITY_ID"
                    table="aw_osc_checkout_data_completeness" column="quote_id" referenceTable="quote"
                    referenceColumn="entity_id" onDelete="CASCADE"/>
        <index referenceId="AW_OSC_CHECKOUT_DATA_COMPLETENESS_QUOTE_ID" indexType="btree">
            <column name="quote_id"/>
        </index>
    </table>
    <table name="aw_osc_report_aggregation_by_day" resource="default" engine="innodb"
           comment="Report Aggregation By Day Table">
        <column xsi:type="date" name="period_from" nullable="false" comment="Period From Date"/>
        <column xsi:type="date" name="period_to" nullable="false" comment="Period To Date"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="period_from"/>
            <column name="period_to"/>
        </constraint>
        <index referenceId="AW_OSC_REPORT_AGGREGATION_BY_DAY_PERIOD_FROM" indexType="btree">
            <column name="period_from"/>
        </index>
        <index referenceId="AW_OSC_REPORT_AGGREGATION_BY_DAY_PERIOD_TO" indexType="btree">
            <column name="period_to"/>
        </index>
    </table>
    <table name="aw_osc_report_aggregation_by_week" resource="default" engine="innodb"
           comment="Report Aggregation By Week Table">
        <column xsi:type="date" name="period_from" nullable="false" comment="Period From Date"/>
        <column xsi:type="date" name="period_to" nullable="false" comment="Period To Date"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="period_from"/>
            <column name="period_to"/>
        </constraint>
        <index referenceId="AW_OSC_REPORT_AGGREGATION_BY_WEEK_PERIOD_FROM" indexType="btree">
            <column name="period_from"/>
        </index>
        <index referenceId="AW_OSC_REPORT_AGGREGATION_BY_WEEK_PERIOD_TO" indexType="btree">
            <column name="period_to"/>
        </index>
    </table>
    <table name="aw_osc_report_aggregation_by_month" resource="default" engine="innodb"
           comment="Report Aggregation By Month Table">
        <column xsi:type="date" name="period_from" nullable="false" comment="Period From Date"/>
        <column xsi:type="date" name="period_to" nullable="false" comment="Period To Date"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="period_from"/>
            <column name="period_to"/>
        </constraint>
        <index referenceId="AW_OSC_REPORT_AGGREGATION_BY_MONTH_PERIOD_FROM" indexType="btree">
            <column name="period_from"/>
        </index>
        <index referenceId="AW_OSC_REPORT_AGGREGATION_BY_MONTH_PERIOD_TO" indexType="btree">
            <column name="period_to"/>
        </index>
    </table>
    <table name="aw_osc_report_aggregation_by_quarter" resource="default" engine="innodb"
           comment="Report Aggregation By Quarter Table">
        <column xsi:type="date" name="period_from" nullable="false" comment="Period From Date"/>
        <column xsi:type="date" name="period_to" nullable="false" comment="Period To Date"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="period_from"/>
            <column name="period_to"/>
        </constraint>
        <index referenceId="AW_OSC_REPORT_AGGREGATION_BY_QUARTER_PERIOD_FROM" indexType="btree">
            <column name="period_from"/>
        </index>
        <index referenceId="AW_OSC_REPORT_AGGREGATION_BY_QUARTER_PERIOD_TO" indexType="btree">
            <column name="period_to"/>
        </index>
    </table>
    <table name="aw_osc_report_aggregation_by_year" resource="default" engine="innodb"
           comment="Report Aggregation By Year Table">
        <column xsi:type="date" name="period_from" nullable="false" comment="Period From Date"/>
        <column xsi:type="date" name="period_to" nullable="false" comment="Period To Date"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="period_from"/>
            <column name="period_to"/>
        </constraint>
        <index referenceId="AW_OSC_REPORT_AGGREGATION_BY_YEAR_PERIOD_FROM" indexType="btree">
            <column name="period_from"/>
        </index>
        <index referenceId="AW_OSC_REPORT_AGGREGATION_BY_YEAR_PERIOD_TO" indexType="btree">
            <column name="period_to"/>
        </index>
    </table>
    <table name="quote" resource="checkout" comment="Sales Flat Quote">
        <column xsi:type="text" name="aw_order_note"  nullable="true" comment="Aw Order Note"/>
        <column xsi:type="timestamp" name="aw_delivery_date_from" nullable="true" comment="Aw Delivery Date From"/>
        <column xsi:type="timestamp" name="aw_delivery_date_to" nullable="true" comment="Aw Delivery Date To"/>
        <column xsi:type="timestamp" name="aw_delivery_date" nullable="true" comment="Aw Delivery Date"/>
        <column xsi:type="text" name="aw_osc_customer_info" nullable="true" comment="Aw Osc Customer Info"/>
    </table>
    <table name="sales_order" resource="sales" comment="Sales Flat Order">
        <column xsi:type="text" name="aw_order_note"  nullable="true" comment="Aw Order Note"/>
        <column xsi:type="timestamp" name="aw_delivery_date_from" nullable="true" comment="Aw Delivery Date From"/>
        <column xsi:type="timestamp" name="aw_delivery_date_to" nullable="true" comment="Aw Delivery Date To"/>
        <column xsi:type="timestamp" name="aw_delivery_date" nullable="true" comment="Aw Delivery Date"/>
        <column xsi:type="text" name="aw_osc_customer_info" nullable="true" comment="Aw Osc Customer Info"/>
    </table>
    <table name="sales_order_grid" resource="sales" comment="Sales Flat Order Grid">
        <column xsi:type="text" name="aw_order_note"  nullable="true" comment="Aw Order Note"/>
        <column xsi:type="timestamp" name="aw_delivery_date_from" nullable="true" comment="Aw Delivery Date From"/>
        <column xsi:type="timestamp" name="aw_delivery_date_to" nullable="true" comment="Aw Delivery Date To"/>
        <column xsi:type="timestamp" name="aw_delivery_date" nullable="true" comment="Aw Delivery Date"/>
    </table>
</schema>
