<div class="aw-onestep-sidebar-block payment-option opc-payment-additional aw-merged-gc-discount">
    <div class="payment-option-content">
        <each args="getRegion('messages')" render=""></each>
        <if args="isCustomerGiftcardCodesDisplayed()">
            <div class="block aw-giftcard-codes-block" data-bind="blockLoader: isLoadingCustomerGiftcardsBlock()">
                <div class="block-title">
                    <span data-bind="i18n: 'Your Gift Card codes'"></span>
                </div>
                <div class="block-content">
                    <div class="box">
                        <div class="box-content">
                            <div repeat="foreach: getCustomerGiftcardCodes(), item: '$giftcard'" class="giftcard-code_row-item">
                                <span class="code">
                                    <text args="$giftcard().code"></text>
                                </span>
                                <span class="balance">
                                    <text args="formatPrice($giftcard().balance)"></text>
                                </span>
                                <a class="action-apply"
                                   href="#"
                                   data-bind="attr: {'title': $t('Apply')},
                                        click: applyByCode.bind($data, $giftcard().code),
                                        i18n: 'Apply'"></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </if>
        <form class="form form-aw-merged-gc-discount" id="aw-merged-gc-discount-form">
            <div class="payment-option-inner">
                <div class="field">
                    <div class="control">
                        <input class="input-text"
                               type="text"
                               id="code_to_apply"
                               name="code_to_apply"
                               data-validate="{'required-entry':true}"
                               data-bind="value: codeToApply,
                                    attr:{
                                        placeholder: $t('Enter Coupon Code or Gift Card'),
                                        disabled: isCouponCodeApplied
                                    },
                                    mageInit: {'awOscValidationMock':{}}" />
                    </div>
                </div>
            </div>
            <div class="actions-toolbar">
                <div class="primary">
                    <!-- ko ifnot: isCouponCodeApplied() -->
                        <button class="action action-apply primary" type="submit" data-bind="'value': $t('Apply'), click: onApplyClick">
                            <span><!-- ko i18n: 'Apply'--><!-- /ko --></span>
                        </button>
                    <!-- /ko -->
                    <!-- ko if: isCouponCodeApplied() -->
                        <button class="action action-cancel" type="submit" data-bind="'value': $t('Cancel'), click: onCancelClick">
                            <span><!-- ko i18n: 'Cancel'--><!-- /ko --></span>
                        </button>
                    <!-- /ko -->
                </div>
            </div>
        </form>
    </div>
</div>
